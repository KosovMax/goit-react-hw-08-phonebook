(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{110:function(t,e,n){},116:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return B}));var r=n(2),c=n(105),o=n(106),a=n(101),i=n(6),s=n(22),u=n(109),b=n(0),j=(n(110),n(113)),l=(n(111),n(10)),d=n(33),f=function(t){return t.phonebook.filter},h=function(t){return t.phonebook.contacts},O={getFilter:f,getContacts:h,getLoading:function(t){return t.phonebook.loading},getFilterContacts:Object(d.a)([f,h],(function(t,e){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}))},p=n(19),x=n.n(p),m=n(30),v=n(24),g=n.n(v),C=n(12),k=function(){return function(){var t=Object(m.a)(x.a.mark((function t(e){var n,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(C.i)()),t.prev=1,t.next=4,g.a.get("/contacts");case 4:n=t.sent,r=n.data,e(Object(C.j)(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(C.h)(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},F=function(t){return function(){var e=Object(m.a)(x.a.mark((function e(n){var r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(C.b)()),e.prev=1,e.next=4,g.a.post("/contacts",t);case 4:r=e.sent,c=r.data,n(Object(C.c)(c)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(C.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},w=function(t){return function(){var e=Object(m.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(C.f)()),e.prev=1,e.next=4,g.a.delete("/contacts/".concat(t));case 4:n(Object(C.g)(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(Object(C.e)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},y=function(t){return function(e,n){return n().phonebook.contacts.filter((function(e){return e.name===t}))}},N=(n(48),n(103)),P={name:"",number:""},_=function(t){var e=t.onFindName,n=t.onAddContact,c=Object(b.useState)(Object(s.a)({},P)),o=Object(u.a)(c,2),a=o[0],l=o[1],d=a.name,f=a.number,h=function(t){var e=t.target,n=e.name,r=e.value;l((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(i.a)({},n,r))}))},O=function(){l(Object(s.a)({},P))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("form",{className:"phonebook",onSubmit:function(t){return t.preventDefault(),d&&f?(console.log(e(d)),0!==e(d).length?(j.b.warn(d+" is already in contacts.",{position:"top-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),!1):(n(a),void O())):(j.b.error("Name or phone filed is empty.",{position:"top-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),!1)},children:[Object(r.jsx)("label",{htmlFor:"name_1",children:"Name"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"name",id:"name_1",value:d,onChange:h}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"phone_1",children:"Number"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"tel",name:"number",id:"phone_1",value:f,onChange:h}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(N.a,{variant:"primary",type:"submit",style:{margin:"auto",display:"block"},children:"Add contact"})]}),Object(r.jsx)(j.a,{})]})};_.defaultProps={onAddContact:function(){},onFindName:function(){}};var L=Object(l.b)(null,(function(t){return{onAddContact:function(e){return t(F(e))},onFindName:function(e){return t(y(e))}}}))(_),A=n(115),D=function(t){var e=t.loading,n=t.contacts,c=t.fetchContacts,o=t.removeContactId;return Object(b.useEffect)((function(){console.log(c())}),[c]),Object(r.jsxs)(r.Fragment,{children:[e&&Object(r.jsx)("h3",{children:"Loading"}),0!=n.length&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("br",{}),Object(r.jsxs)(A.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"Humber"}),Object(r.jsx)("th",{width:"10%"})]})}),Object(r.jsx)("tbody",{children:n.map((function(t){var e=t.id,n=t.name,c=t.number;return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:n}),Object(r.jsx)("td",{children:c}),Object(r.jsxs)("td",{children:[Object(r.jsx)(N.a,{variant:"danger",onClick:function(){o(e)},children:"Delete"})," "]})]},e)}))})]})]})]})};D.defaultProps={contacts:[],removeContactId:function(){}};var H=Object(l.b)((function(t){return{loading:O.getLoading(t),contacts:O.getFilterContacts(t)}}),(function(t){return{fetchContacts:function(){return t(k())},removeContactId:function(e){return t(w(e))}}}))(D),I=function(t){var e=t.filter,n=t.onFilter;return Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault()},children:[Object(r.jsx)("label",{htmlFor:"filter_1",children:"Find contacts by name"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"filter",id:"filter_1",value:e,onChange:n})]})};I.defaultProps={filter:"",onFilter:function(){}};var S=Object(l.b)((function(t){return{filter:O.getFilter(t)}}),(function(t){return{onFilter:function(e){return t(Object(C.d)(e.target.value))}}}))(I);function B(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(c.a,{children:Object(r.jsxs)(o.a,{children:[Object(r.jsxs)(a.a,{sm:3,children:[Object(r.jsx)("h2",{children:"Phonebook"}),Object(r.jsx)(L,{})]}),Object(r.jsxs)(a.a,{sm:9,children:[Object(r.jsx)("h2",{children:"Contacts"}),Object(r.jsx)(S,{}),Object(r.jsx)(H,{})]})]})})})}}}]);
//# sourceMappingURL=4.ab97d6eb.chunk.js.map